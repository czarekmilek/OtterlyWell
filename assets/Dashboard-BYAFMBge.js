import{j as e,a as p,r as n,b,C as j,W as v,F as y,T as N,c as k,d as w,e as C}from"./index-DagVn5ui.js";import{L as g,C as F,u as M}from"./LinearMacroProgress-C8ANORAx.js";import{m}from"./proxy-DGw4AqAz.js";import{u as D,a as T}from"./useFitnessDaily-DVxAledH.js";import{F as W,a as f,u as I}from"./FinanceIOPeek-pVheGb1P.js";import{u as P,T as z}from"./TaskColumn-CGZ9R5S6.js";import"./ConfirmDeleteDialog-B4nz53wp.js";function S({goalCalories:s,totalCalories:t,goalProtein:a,goalFat:i,goalCarbs:d}){return e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-6",children:[e.jsx(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"h-full order-3 flex flex-col justify-center",children:e.jsxs("div",{className:"bg-brand-neutral-dark rounded-xl p-4 border border-brand-depth flex flex-col gap-3.5",children:[e.jsx("p",{className:"text-xs text-brand-secondary uppercase tracking-wider mb-2",children:"Makroskladniki"}),e.jsx(g,{label:"Białko",value:t.protein,goal:a,color:"var(--color-brand-primary)"}),e.jsx(g,{label:"Tłuszcz",value:t.fat,goal:i,color:"var(--color-brand-accent-1)"}),e.jsx(g,{label:"Węgle",value:t.carbs,goal:d,color:"var(--color-brand-accent-2)"})]})}),e.jsx(m.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.8},className:"order-1 overflow-visible flex items-center justify-center pointer-events-none sm:-mt-7",children:e.jsx(F,{consumed:t.kcal,goal:s})})]},"stats-view")}function B(){const{user:s}=p(),t=n.useMemo(()=>new Date,[]),{goals:a,totalCalories:i}=M(s,t);return e.jsx(b,{to:"/calories",children:e.jsxs("div",{className:`flex flex-col bg-brand-neutral-dark/40 border border-brand-depth rounded-2xl p-4\r
                      overflow-hidden relative group cursor-pointer hover:bg-brand-neutral-dark/50 hover:scale-102\r
                      hover:shadow-lg transition-all duration-200`,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-lg font-bold text-brand-neutral-light flex items-center gap-2",children:[e.jsx(j,{}),"Kalorie"]})}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("div",{className:"origin-center w-full",children:e.jsx(S,{goalCalories:a.calories,totalCalories:i,goalProtein:a.protein,goalFat:a.fat,goalCarbs:a.carbs})})})]})})}function L({entries:s,selectedDate:t}){const{getDayPlan:a}=D(),[i,d]=n.useState(null),c=n.useMemo(()=>{const r=t.getDay();return r===0?0:r},[t]);n.useEffect(()=>{const r=a(c);d(r)},[c,a]);const o=n.useMemo(()=>{const r=new Set(s.map(x=>x.exercise_id)).size,l=s.reduce((x,h)=>x+(h.sets||0),0);return{workouts:r,sets:l}},[s]);return e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-2",children:[e.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-brand-neutral-dark p-4 border border-brand-depth rounded-xl flex flex-col justify-center",children:[e.jsx("p",{className:"text-xs text-brand-neutral-light/60 uppercase tracking-widest mb-1",children:"PLAN NA DZIŚ"}),i?e.jsxs("div",{className:"flex flex-col gap-2 text-center items-center justify-center h-full",children:[e.jsx("h3",{className:"text-lg font-bold text-brand-accent-2 line-clamp-2 leading-tight",children:i.name}),e.jsxs("span",{className:"text-xs text-brand-neutral-light/50 bg-brand-depth/50 px-2 py-0.5 rounded-full inline-block",children:[i.items?.length||0," ćwiczeń"]})]}):e.jsx("span",{className:"text-brand-neutral-light/30 italic text-sm text-center",children:"Brak planu"})]}),e.jsx(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-brand-neutral-dark p-4 border border-brand-depth rounded-xl flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-brand-neutral-light/70 uppercase tracking-wide mb-1",children:"Ćwiczenia • Serie"}),e.jsxs("p",{className:"text-2xl font-bold text-brand-accent-1",children:[o.workouts," ",e.jsx("span",{className:"text-brand-neutral-light/50",children:"•"})," ",e.jsx("span",{className:"text-brand-accent-3",children:o.sets})]})]})})]},"fitness-simplified-view")}function E(){const s=n.useMemo(()=>new Date,[]),{entries:t}=T(s);return e.jsx(b,{to:"/fitness",children:e.jsxs("div",{className:`flex flex-col bg-brand-neutral-dark/40 border border-brand-depth rounded-2xl p-4 overflow-hidden relative group\r
                    cursor-pointer hover:bg-brand-neutral-dark/50 hover:scale-102 hover:shadow-lg transition-all duration-200`,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-lg font-bold text-brand-neutral-light flex items-center gap-2",children:[e.jsx(v,{}),"Treningi"]})}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("div",{className:"origin-center w-full",children:e.jsx(L,{entries:t,selectedDate:s})})})]})})}function A({stats:s,moneyLeft:t,totalBudget:a}){return e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-2",children:[e.jsx("div",{className:"h-full order-1 flex flex-col justify-center",children:e.jsx(W,{moneyLeft:t,totalBudget:a})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(f,{type:"income",amount:s.income}),e.jsx(f,{type:"expense",amount:s.expense})]})]},"finance-simplified-view")}function _(){p();const s=n.useMemo(()=>new Date,[]),{transactions:t,budgets:a}=I(),i=n.useMemo(()=>{const r=s.getMonth(),l=s.getFullYear();return t.filter(x=>{const h=new Date(x.date);return h.getMonth()===r&&h.getFullYear()===l})},[t,s]),d=n.useMemo(()=>i.reduce((r,l)=>(l.type==="income"?r.income+=l.amount:r.expense+=l.amount,r),{income:0,expense:0}),[i]),c=n.useMemo(()=>a.reduce((r,l)=>r+(l.amount||0),0),[a]),o=c-d.expense;return e.jsx(b,{to:"/finance",children:e.jsxs("div",{className:`flex flex-col bg-brand-neutral-dark/40 border border-brand-depth rounded-2xl p-4\r
                    overflow-hidden relative group cursor-pointer hover:bg-brand-neutral-dark/50 hover:scale-102 \r
                    hover:shadow-lg transition-all duration-200`,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-lg font-bold text-brand-neutral-light flex items-center gap-2",children:[e.jsx(y,{}),"Finanse"]})}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("div",{className:"origin-center w-full",children:e.jsx(A,{stats:d,moneyLeft:o,totalBudget:c})})})]})})}function K(){const{tasks:s,categories:t,toggleTaskCompletion:a,dismissTask:i}=P(),[d,c]=n.useState(0),o=n.useMemo(()=>t.filter(u=>u.is_active),[t]),r=o[d],l=()=>{c(u=>(u+1)%o.length)},x=()=>{c(u=>(u-1+o.length)%o.length)},h=n.useMemo(()=>r?s.filter(u=>u.category_id===r.id):[],[s,r]);return o.length===0?e.jsx("div",{className:"flex flex-col h-full bg-brand-neutral-dark/40 border border-brand-depth rounded-2xl p-4",children:e.jsx("p",{className:"text-brand-secondary",children:"Brak kategorii zadań."})}):e.jsxs("div",{className:"flex flex-col bg-brand-neutral-dark/40 border border-brand-depth rounded-2xl p-4 overflow-hidden relative group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(b,{to:"/tasks",children:e.jsxs("h2",{className:`text-lg font-bold text-brand-neutral-light flex items-center gap-2 hover:scale-105 \r
                        hover:text-brand-accent-1 transition-all duration-200 cursor-pointer`,children:[e.jsx(N,{}),"Zadania"]})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center bg-brand-neutral-dark/50 rounded-lg p-0.5 border border-brand-depth",children:[e.jsx("button",{onClick:x,className:"flex items-center p-1 hover:text-brand-accent-1 transition-colors cursor-pointer",children:e.jsx(k,{})}),e.jsx("button",{onClick:l,className:"flex items-center p-1 hover:text-brand-accent-1 transition-colors cursor-pointer",children:e.jsx(w,{})})]})})]}),e.jsx(b,{to:"/tasks",children:e.jsx("div",{className:`flex-1 overflow-hidden rounded-2xl\r
        cursor-pointer hover:bg-brand-neutral-dark/30 hover:scale-102 hover:shadow-lg transition-all duration-200`,children:r&&e.jsx("div",{className:"h-full w-full pointer-events-none",children:e.jsx(z,{category:r,tasks:h,onComplete:a,onDismiss:i,allCategories:t,onEdit:()=>{},currentDate:new Date})})})})]})}const J=()=>{const{visibleModules:s}=C();return e.jsxs("div",{className:"py-4 h-full flex flex-col",children:[e.jsxs("div",{className:"columns-1 lg:columns-2 gap-3 sm:gap-6",children:[s.calories&&e.jsx("div",{className:"break-inside-avoid mb-3",children:e.jsx(B,{})}),s.fitness&&e.jsx("div",{className:"break-inside-avoid mb-3",children:e.jsx(E,{})}),s.finance&&e.jsx("div",{className:"break-inside-avoid mb-3",children:e.jsx(_,{})}),s.tasks&&e.jsx("div",{className:"break-inside-avoid mb-3",children:e.jsx(K,{})})]}),!Object.values(s).some(Boolean)&&e.jsxs("div",{className:`flex flex-col items-center justify-center p-12 text-center bg-brand-neutral-dark/10 \r
                  rounded-3xl border-2 border-dashed border-brand-depth`,children:[e.jsx("p",{className:"text-brand-neutral-dark font-medium text-lg",children:"Wszystkie moduły są ukryte."}),e.jsx("p",{className:"text-brand-primary text-sm mt-2",children:'Przejdź do menu bocznego i kliknij "Konfiguruj widok", aby dodać widgety.'})]})]})};export{J as default};
