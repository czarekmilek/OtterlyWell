import{r as s,j as o,K as P,l as N,q as D}from"./index-B2Fph0LG.js";import{M as K,i as W,u as $,P as A,a as S,b as U,L as H}from"./proxy-j0g64NeB.js";function F(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function q(...e){return r=>{let t=!1;const i=e.map(l=>{const n=F(l,r);return!t&&typeof n=="function"&&(t=!0),n});if(t)return()=>{for(let l=0;l<i.length;l++){const n=i[l];typeof n=="function"?n():F(e[l],null)}}}}function B(...e){return s.useCallback(q(...e),e)}class G extends s.Component{getSnapshotBeforeUpdate(r){const t=this.props.childRef.current;if(t&&r.isPresent&&!this.props.isPresent){const i=t.offsetParent,l=W(i)&&i.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=l-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function V({children:e,isPresent:r,anchorX:t,root:i}){const l=s.useId(),n=s.useRef(null),f=s.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=s.useContext(K),j=B(n,e?.ref);return s.useInsertionEffect(()=>{const{width:a,height:C,top:c,left:h,right:p}=f.current;if(r||!n.current||!a||!C)return;const x=t==="left"?`left: ${h}`:`right: ${p}`;n.current.dataset.motionPopId=l;const d=document.createElement("style");y&&(d.nonce=y);const v=i??document.head;return v.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${C}px !important;
            ${x}px !important;
            top: ${c}px !important;
          }
        `),()=>{v.contains(d)&&v.removeChild(d)}},[r]),o.jsx(G,{isPresent:r,childRef:n,sizeRef:f,children:s.cloneElement(e,{ref:j})})}const X=({children:e,initial:r,isPresent:t,onExitComplete:i,custom:l,presenceAffectsLayout:n,mode:f,anchorX:y,root:j})=>{const a=$(_),C=s.useId();let c=!0,h=s.useMemo(()=>(c=!1,{id:C,initial:r,isPresent:t,custom:l,onExitComplete:p=>{a.set(p,!0);for(const x of a.values())if(!x)return;i&&i()},register:p=>(a.set(p,!1),()=>a.delete(p))}),[t,a,i]);return n&&c&&(h={...h}),s.useMemo(()=>{a.forEach((p,x)=>a.set(x,!1))},[t]),s.useEffect(()=>{!t&&!a.size&&i&&i()},[t]),f==="popLayout"&&(e=o.jsx(V,{isPresent:t,anchorX:y,root:j,children:e})),o.jsx(A.Provider,{value:h,children:e})};function _(){return new Map}const w=e=>e.key||"";function T(e){const r=[];return s.Children.forEach(e,t=>{s.isValidElement(t)&&r.push(t)}),r}const Q=({children:e,custom:r,initial:t=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:n="sync",propagate:f=!1,anchorX:y="left",root:j})=>{const[a,C]=S(f),c=s.useMemo(()=>T(e),[e]),h=f&&!a?[]:c.map(w),p=s.useRef(!0),x=s.useRef(c),d=$(()=>new Map),[v,z]=s.useState(c),[g,k]=s.useState(c);U(()=>{p.current=!1,x.current=c;for(let m=0;m<g.length;m++){const u=w(g[m]);h.includes(u)?d.delete(u):d.get(u)!==!0&&d.set(u,!1)}},[g,h.length,h.join("-")]);const R=[];if(c!==v){let m=[...c];for(let u=0;u<g.length;u++){const b=g[u],E=w(b);h.includes(E)||(m.splice(u,0,b),R.push(b))}return n==="wait"&&R.length&&(m=R),k(T(m)),z(c),null}const{forceRender:I}=s.useContext(H);return o.jsx(o.Fragment,{children:g.map(m=>{const u=w(m),b=f&&!a?!1:c===g||h.includes(u),E=()=>{if(d.has(u))d.set(u,!0);else return;let M=!0;d.forEach(L=>{L||(M=!1)}),M&&(I?.(),k(x.current),f&&C?.(),i&&i())};return o.jsx(X,{isPresent:b,initial:!p.current||t?void 0:!1,custom:r,presenceAffectsLayout:l,mode:n,root:j,onExitComplete:b?void 0:E,anchorX:y,children:m},u)})})};function Y({isOpen:e,onClose:r,onConfirm:t,title:i="Potwierdź usunięcie",description:l,confirmLabel:n="Usuń",cancelLabel:f="Anuluj"}){return o.jsx(P,{appear:!0,show:e,as:s.Fragment,children:o.jsxs(N,{as:"div",className:"relative z-50",onClose:r,children:[o.jsx(P.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"})}),o.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:o.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:o.jsx(P.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:o.jsxs(N.Panel,{className:`w-full max-w-md transform overflow-hidden rounded-2xl border border-brand-depth \r
                          bg-brand-neutral-dark p-6 text-left align-middle shadow-xl transition-all`,children:[o.jsxs(N.Title,{as:"h3",className:"text-lg font-medium leading-6 text-brand-neutral-light flex items-center gap-2",children:[o.jsx(D,{className:"text-2xl text-red-400"})," ",i]}),o.jsx("div",{className:"mt-2",children:o.jsx("div",{className:"text-sm text-brand-secondary",children:l})}),o.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row-reverse gap-3",children:[o.jsx("button",{type:"button",className:`inline-flex w-full justify-center rounded-lg border border-transparent bg-red-600 px-4 py-2 text-sm font-medium \r
                    text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:w-auto transition-colors`,onClick:()=>{t(),r()},children:n}),o.jsx("button",{type:"button",className:`inline-flex w-full justify-center rounded-lg border border-brand-depth bg-brand-neutral-dark px-4 py-2 text-sm \r
                    font-medium text-brand-neutral-light hover:bg-brand-depth/40 focus:outline-none focus:ring-2 focus:ring-brand-primary \r
                    focus:ring-offset-2 sm:w-auto transition-colors`,onClick:r,children:f})]})]})})})})]})})}export{Q as A,Y as C};
